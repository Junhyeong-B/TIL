# 44장 REST API

- REST **(REpresentational State Transfer)** 는 HTTP/1.0과 1.1의 스펙 작성에 참여했고, HTTP의 장점을 최대한 활용할 수 있는 아키텍처로서 소개되었다.
- REST는 HTTP를 기반으로 클라이언트가 서버의 리소스에 접근하는 방식을 규정한 아키텍처이다.
- REST의 기본 원칙을 성실히 지킨 서비스 디자인을 **“RESTful”** 이라고 표현한다.

<br />

# 1. REST API의 구성

- REST API는 **자원(resource)**, **행위(verb)** , **표현(representations)** 의 3가지 요소로 구성된다.

| 구성 요소 | 내용 | 표현 방법 |
| --- | --- | --- |
| 자원 | 자원 | URI(엔드포인트) |
| 행위 | 자원에 대한 행위 | HTTP 요청 메서드 |
| 표현 | 자원에 대한 행위의 구체적 내용 | 페이로드 |

<br />

# 2. REST API 설계 원칙

## 1) URI는 리소스를 표현해야 한다.

- 리소스를 식별할 수 있는 이름은 동사보다는 명사를 사용한다.
    - 따라서, get 같은 표현이 들어가서는 안된다.

```
# bad
GET /getTodos/1
GET /todos/show/1

# good
GET /todos/1
```

<br />

## 2) 리소스에 대한 행위는 HTTP 요청 메서드로 표현한다.

- HTTP 요청 메서드는 클라이언트가 서버에게 요청의 종류와 목적을 알리는 방법이다.
- 주로 5가지 요청 메서드를 사용하여 CRUD를 구현한다.
- 리소스에 대한 행위는 요청 메서드를 통해 표현하고 URI에 표현하지 않는다.

| HTTP 요청 메서드 | 종류 | 목적 | 페이로드 |
| --- | --- | --- | --- |
| GET | index/retrieve | 모든/특정 리소스 취득 | X |
| POST | create | 리소스 생성 | O |
| PUT | replace | 리소스의 전체 교체 | O |
| PATCH | modify | 리소스의 일부 수정 | O |
| DELETE | delete | 모든 특정 리소스 삭제 | X |

```
# bad
GET /todos/delete/1

# good
DELETE /todos/1
```

<br />

# 🤔 문제

1. HTTP 요청 메서드 중 **옳은 것**은?

1\) **GET**: 리소스가 있으면 대체, 없으면 생성한다.

2\) **POST**: 데이터 요청을 처리하고, 메세지 바디를 통해 서버로 데이터를 전달한다.

3\) **PUT**: 리소스를 수정할 때 사용되지만, PUT은 일부분만 변경할 수 있다.

4\) **PATCH**: 리소스를 조회할 때 사용하고, 서버에 전달할 데이터는 query를 통해서 전달한다.

5\) **DELETE**: 데이터 요청을 처리하고 조회할 때 사용한다.

<br />

- 답
    
    **2)**
    
    - `GET`: 리소스 조회
        - 리소스를 조회할 때 사용, 서버에 전달할 데이터는 query를 통해서 전달
    - `POST`: 요청 데이터를 처리, 주로 데이터 등록
        - 데이터 요청을 처리, 메세지 바디를 통해 서버로 데이터를 전달
    - `PUT`: 리소스를 대체, 해당 리소스가 없으면 생성
        - 리소스가 있으면 대체, 없으면 생성
    - `PATCH`: 리소스를 일부만 변경
        - 리소스를 수정할 때 사용되지만, PATCH는 일부분만 변경할 수 있다.
    - `DELETE`: 리소스 삭제
        - 리소스 삭제