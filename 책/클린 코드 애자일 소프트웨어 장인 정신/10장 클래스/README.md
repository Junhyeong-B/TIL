# 10장 클래스

# 1. 클래스 체계

- 클래스를 정의하는 표준 자바 관례
    1. 가장 먼저 변수 목록이 나온다.
        - 정적(static) 공개(public) 변수가 있다면 맨 처음
        - 그 다음 정적 비공개(private) 변수
        - 그 다음 비공개 인스턴스 변수
        - 공개 변수가 필요한 경우는 거의 없다.
    2. 변수 목록 다음에는 공개 함수가 나온다.
    3. 비공개 함수는 자신을 호출하는 공개 함수 직후에 넣는다.

<br />

- 위의 표준 자바 관례를 따르면 신문 기사처럼 읽힌다.

<br />

### 1-1) 캡슐화

- 변수와 유틸리티 함수는 가능한 공개하지 않는 편이 낫다.
    - 다만, 반드시 숨겨야 한다는 법칙은 없다.
- 비공개 상태를 유지할 방법을 강가하는 것이 좋으나 경우에 따라 공개할 수도 있다.
- 같은 패키지 안에서 테스트 코드가 함수를 호출하거나 변수를 사용해야 한다면 그 함수나 변수를 protected로 선언하거나 패키지 전체로 공개한다.

<br />

# 2. 클래스는 작아야 한다.

- 클래스를 만들 때 첫 번째 규칙은 함수와 마찬가지로 작게 만드는 것이다.(크기)
- 함수를 물리적인 행 수로 크기를 측정했다면, 클래스는 클래스가 맡은 책임을 크기로 측정한다.
- 클래스 이름은 해당 클래스 책임을 기술해야 한다.
    - 클래스 작명은 클래스 크기를 줄이는 첫 번째 관문이라고 볼 수 있다.

<br />

### 2-1) 단일 책임 원칙(SRP, Single Responsibility Principle)

- 클래스나 모듈을 변경할 이유가 하나뿐이어야 한다는 원칙이다.
- 규모가 어느 수준에 이르는 시스템은 논리가 많고도 복잡한데, 이런 복잡성을 다루려면 체계적인 정리가 필수다.
- 큰 클래스 몇 개보다 작은 클래스 여럿으로 이뤄진 시스템이 더 바람직하다.

<br />

# 3. 응집도(Cohesion)

- 클래스는 인스턴스 변수 수가 작아야 한다.
- 일반적으로 메서드가 변수를 많이 사용할수록 메서드와 클래스는 응집도가 높다.
- 응집도가 높다는 것은 메서드에서 사용하는 인스턴스 변수가 많다는 것을 의미하고, 이는 적절히 분리해 새로운 클래스로 쪼개야 한다는 신호다.

<br />

### 3-1) 응집도를 유지하면 작은 클래스 여럿이 나온다.

- 큰 함수를 작은 함수 여럿으로 나누기만 해도 클래스 수가 많아진다.
- 함수를 쪼개다보면 클래스의 인스턴스 변수가 늘어나게 되는데, 이런 경우 응집력을 잃는다고 하고, 응집력을 잃는다면 더 작은 클래스로 쪼갤 수 있다는 것을 의미한다.
- 작은 클래스 여럿으로 쪼개게되면 프로그램에 점점 더 체계가 잡히고 구조가 투명해진다.

<br />

# 4. 변경하기 쉬운 클래스

- 대다수 시스템은 지속적인 변경이 가해진다.
    - 이 경우 의도대로 동작하지 않을 위험이 따른다.
    - 깨끗한 클래스로 짜여진 시스템은 변경에 수반하는 위험을 낮춰준다.

<br />

### 4-1) 변경으로부터 격리

- 요구사항은 변하기 마련이므로 코드도 변하기 쉽다.
- 상세한 구현에 의존하는 클라이언트 클래스는 구현이 바뀌면 위험에 처한다.
- 그래서, 인터페이스와 추상 클래스를 사용해 구현이 미치는 영향을 격리한다.
- 시스템의 결합도를 낮추면 유연성과 재사용성이 높아지고, 이는 다른 요소로부터 잘 격리되어 있따는 의미다.