# 6장 컴포넌트 반복

# 6.1 자바스크립트 배열의 map() 함수

- `arr.map(callback, [thisArg])`
    - callback: 새로운 배열의 요소를 생성하는 함수의 파라미터
        1. currentValue: 현재 처리 중인 요소
        2. index: currentValue의 index 값
        3. array: 현재 처리하고 있는 원본 배열
    - thisArg(선택 항목): callback 함수 내부에서 사용할 this 레퍼런스

<br />

# 6.2 데이터 배열을 컴포넌트 배열로 변환하기

- `Array.prototype.map()` 함수를 이용하여 배열의 각 요소들을 JSX 코드로 된 요소로 변환하여 사용할 수 있다.
- map 함수에서 JSX를 작성할 때 DOM 요소 또는 컴포넌트 모두 작성할 수 있다.

<br />

# 6.3 key

- map() 함수로 인해 JSX 코드로 변환된 요소들을 렌더링할 때 각 요소들은 key prop이 필요하다.
- key는 배열을 렌더링했을 때 어떤 원소에 변동이 있었는지 알아내려고 사용한다.
    - 유동적인 데이터의 요소를 생성, 삭제, 변경 등
- key 값은 언제나 유일해야 한다.
- 배열의 index 값을 key 값으로 설정할 경우 에러는 발생하지 않지만 효율적인 리렌더링은 불가능하다.

<br />

# 6.4 응용

- 유동적인 데이터를 다룰 때 불변성을 유지하는 것이 중요하다.
    - 기존 상태를 그대로 두면서 새로운 값으로 렌더링 하는 것으로 불변성을 유지할 수 있다.
    - 데이터가 **추가**될 때 push 대신(기존의 배열 변경) concat(새로운 배열 반환)을 활용하고,
        
        데이터가 **제거**될 때 filter(새로운 배열 반환)를 사용하여 불변성을 유지할 수 있다.